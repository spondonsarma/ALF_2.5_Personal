% !TeX document-id = {2fc16d90-fe07-4ec8-91d5-5acebdd2ee85}
% !BIB TS-program = bibtex

% Copyright (c) 2016-2020 The ALF project.
% This is the ALF project documentation.
% The ALF project documentation by the ALF contributors is licensed
% under a Creative Commons Attribution-ShareAlike 4.0 International License.
% For the licensing details of the documentation see license.CCBYSA.

\documentclass[submission, Phys]{SciPost}
\usepackage{lineno}
\usepackage{graphicx}
%\usepackage[T1]{fontenc}
%\usepackage{lmodern}
\usepackage{bbm}
\usepackage{amsmath,mathtools}
\usepackage{amssymb}
\usepackage{wasysym}
\usepackage{color}
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{soul}
\usepackage{multirow}
\usepackage{xspace}
\usepackage{bm}
\usepackage{dsfont}
\usepackage[htt]{hyphenat}
\usepackage{footnote}
\usepackage{cite}
\usepackage{alltt}
\usepackage{listings}
\usepackage{url}
\usepackage{booktabs}
\hypersetup{breaklinks=true, colorlinks, pdfborder={0 0 0}, linkcolor={red!60!black}, citecolor={blue!80!black}, urlcolor={blue!99!black}}
\usepackage{float} 
\usepackage{placeins}
\usepackage{makeidx}
\usepackage[xindy]{imakeidx}
\usepackage[framemethod=default]{mdframed}
\usepackage{showexpl}
\usepackage{etoolbox}
\usepackage{calc}

\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
            {-2.5ex\@plus -1ex \@minus -.25ex}%
            {1.25ex \@plus .25ex}%
            {\normalfont\normalsize\bfseries}}
\makeatother
\setcounter{secnumdepth}{4} 
\setcounter{tocdepth}{4}
\definecolor{light-gray}{gray}{0.95}
\definecolor{light-gray2}{gray}{0.88}
\definecolor{comment-color}{rgb}{0.8,0.1,0.1}
\definecolor{keyword-color}{rgb}{0.3,0.3,1}
\sethlcolor{light-gray2}

\lstdefinestyle{fortran}{
  language={[03]Fortran},
  basicstyle=\ttfamily\footnotesize,
  keywordstyle=\color{keyword-color},
  commentstyle=\color{comment-color},
  morecomment=[l]{!\ },% Otherwise it's a comment only with space after !
  breakatwhitespace=false,
  keepspaces=true,
  showstringspaces=false,
  columns=fullflexible,
  backgroundcolor=\color{light-gray},
  frame=single,
  xleftmargin=3.4pt,
  xrightmargin=3.4pt
}

\lstdefinestyle{fortran_pseudo_code}{
  language={[03]Fortran},
  basicstyle=\ttfamily\small,
  keywordstyle=\color{red},
  commentstyle=\normalfont\color{black},
  morecomment=[l]{!\ }% Comment only with space after !
  breakatwhitespace=false,
  keepspaces=true,
  showstringspaces=false,
  columns=flexible,
  backgroundcolor=\color{white},
  frame=single,
  xleftmargin=3.4pt,
  xrightmargin=3.4pt,
  escapeinside={\!*}{*)},
}

\lstdefinestyle{bash}{
  language=bash,
  basicstyle=\ttfamily,
  keywordstyle=\color{keyword-color},
  commentstyle=\color{comment-color},
  morecomment=[l]{\#\ }% Comment only with space after #
  breakatwhitespace=false,
  keepspaces=true,
  showstringspaces=false,
  columns=flexible,
  xleftmargin=3.4pt,
  xrightmargin=3.4pt,
}

\def\Tr{\mathop{\mathrm{Tr}}}
\def\Trf{\mathop{\mathrm{Tr}_{\mathrm{F}}}}
\def\d{\mathrm{d}}
\DeclareMathOperator{\sgn}{sgn}
\makesavenoteenv{tabular}
\makesavenoteenv{table}

\newcommand*{\red}{\textcolor{red}}
\newcommand*{\blue}{\textcolor{blue}}
\newcommand{\mycomment}[1]{{\color{red} #1}}
\newcommand{\FAcomment}[1]{{\color{red} #1}}

\renewcommand{\Re}{\operatorname{Re}}
\renewcommand{\Im}{\operatorname{Im}}
\renewcommand{\vec}[1]{\boldsymbol{#1}}
\newcommand{\ve}[1]{\boldsymbol{#1}}
\newcommand{\tl}{t_{l}}
\newcommand{\ts}{\underline{t}}

\makeindex
\begin{document}
	
% Title
\begin{center}{\Large \textbf{
The \emph{ALF} (\emph{A}lgorithms for \emph{L}attice \emph{F}ermions)\\project release 2.0\\
{\normalsize Documentation for the  auxiliary-field quantum Monte Carlo code}
}}\end{center}

% Author list
\begin{center}
The ALF Collaboration: F.~F. Assaad\textsuperscript{1},
M. Bercx\textsuperscript{1},
F. Goth\textsuperscript{1},
A. G\"otz\textsuperscript{1},
J.~S. Hofmann\textsuperscript{2},
Z. Liu\textsuperscript{1},
J.~S.~E. Portela\textsuperscript{1},
J. Schwab\textsuperscript{1}
\end{center}

% Affiliation
\begin{center}
{\bf 1} Institut f\"ur Theoretische Physik und Astrophysik, Universit\"at W\"urzburg,\\
97074 W\"urzburg, Germany\\
{\bf 2} Department of Condensed Matter Physics, Weizmann Institute of Science,\\
Rehovot, 76100, Israel
\\
\url{alf@physik.uni-wuerzburg.de}
\end{center}

\begin{center}
\today
\end{center}

% For convenience during refereeing: line numbers
%\linenumbers

\section*{Abstract}
{\bf
\red{ TODO } The abstract is in boldface, and should fit in 8 lines.
The Algorithms for Lattice Fermions package provides a general code for the auxiliary field quantum Monte Carlo algorithm. The code is engineered to be	able to simulate any model that can be written in terms of sums of single-body operators, of squares of single-body operators and single-body operators coupled to an Ising field with given dynamics. We provide predefined types that allow the user to specify the model, the Bravais lattice as well as equal-time and time-displaced observables. The code supports an MPI implementation. Examples such as the Hubbard model on the honeycomb lattice and the Hubbard model on the square lattice coupled to a transverse Ising field are provided and discussed in the documentation. We furthermore discuss how to use the package to implement the Kondo lattice model and the SU(N)-Hubbard-Heisenberg model. One can download the code from our Git instance at \url{https://alf.physik.uni-wuerzburg.de} and sign in to file issues.
}\\

%\noindent Copyright \textcopyright ~2016--2020 The \textit{ALF} Project.\\
%This is the ALF Project Documentation. % by the ALF contributors.
%It is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.
You are free to share and benefit from this documentation as long as this license is preserved
and proper attribution to the authors is given. For details see the ALF project
website \url{alf.physik.uni-wuerzburg.de}.

\vspace{10pt}
\noindent\rule{\textwidth}{1pt}
\tableofcontents\thispagestyle{fancy}
\noindent\rule{\textwidth}{1pt}
\vspace{10pt}

%\clearpage
\section{Introduction}\label{sec:intro}
\input{intro}
\section{Auxiliary Field Quantum Monte Carlo: finite temperature}\label{sec:def}
\input{model}
\input{updating}
\input{langevin}
\input{stabilization}
\section{Auxiliary Field Quantum Monte Carlo: projective algorithm}\label{sec:defT0}
\input{pqmc}
\section{Monte Carlo sampling}\label{sec:sampling}
\input{sampling}
\input{pseudocode}
\section{Data Structures and Input/Output}\label{sec:imp}
\input{implementation}
\input{files}
\section{Using the Code}\label{sec:running}
\input{running}
\section{The plain vanilla Hubbard model on the square lattice} \label{sec:vanilla}
\input{Hubbard_Plain}
\section{Predefined Structures}\label{sec:predefined}
\input{predefined}
\input{Model_classes}
\section{Maximum Entropy}\label{sec:maxent}
\input{maxent}
\section{Conclusions and Future Directions}\label{sec:con}
\input{conclusion}
\addcontentsline{toc}{section}{Acknowledgments}
\input{acknowledgment}
\begin{appendix}
\input{performance}
\input{license}
\end{appendix}
\bibliography{./fassaad,./doc}
\printindex

\nolinenumbers

\end{document}
